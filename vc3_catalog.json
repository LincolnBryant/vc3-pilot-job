{
    "parrot":[
        {
            "version":"v5.4.13",
            "name":"parrot",
            "versioncmd":"parrot_run --version",
            "versionreg":"^parrot_run version ([0-9.]*)",
            "dependencies":{
                "cctools":[
                    "v5.4.13"
                ]
            }
        }
    ],

    "cctools":[
        {
            "version":"v5.4.13",
            "name":"cctools",
            "versioncmd":"parrot_run --version",
            "versionreg":"^parrot_run version ([0-9.]*)",
            "sources":[
                {
                    "type":"tarball",
                    "file":"cctools-5.4.13a-sources.tar.gz",
                    "recipe":[
                        "./configure --prefix ${VC3_PREFIX} --with-swig-path ${VC3_SWIG_ROOT} --with-python-path ${VC3_PYTHON_ROOT} --with-perl-path ${VC3_PERL_ROOT} --with-zlib-path ${VC3_ZLIB_ROOT} --with-cvmfs-path ${VC3_CVMFS_ROOT} --without-system-umbrella",
                        "make",
                        "make install"
                    ],
                    "dependencies":{
                        "swig":[
                            "v3.0"
                        ],
                        "cvmfs":[
                            "v2.2"
                        ]
                    }
                }
            ],
            "dependencies":{
                "python":[
                    "v2.6"
                ],
                "perl":[
                    "v5.8"
                ],
                "zlib":[
                    "v1.2"
                ]
            },
            "environment_variables":[
                {
                    "name":"HTTP_PROXY",
                    "value":"http://cache01.hep.wisc.edu:3128",
                    "clobber":1,
                    "absolute":1
                },
                {
                    "name":"PATH",
                    "value":"bin"
                },
                {
                    "name":"PYTHONPATH",
                    "value":"lib/python2.7/site-packages"
                },
                {
                    "name":"PERL5LIB",
                    "value":"lib/perl5/site_perl"
                }
            ]
        }
    ],

    "swig":[
        {
            "version":"v3.0.2",
            "name":"swig",
            "versioncmd":"swig -version",
            "versionreg":"SWIG Version ([0-9.]*)",
            "sources":[
                {
                    "type":"tarball",
                    "file":"swig-3.0.2.tar.gz",
                    "recipe":[
                        "./configure --prefix=${VC3_PREFIX}",
                        "make",
                        "make install"
                    ],
                    "dependencies":{
                        "python":[
                            "v2.6"
                        ],
                        "perl":[
                            "v5.8"
                        ],
                        "pcre":[
                            "v8.34"
                        ]
                    }
                }
            ],
            "environment_variables":[
                {
                    "name":"PATH",
                    "value":"bin"
                }
            ]
        }
    ],

    "cmake":[
        {
            "version":"v3.0.2",
            "name":"cmake",
            "versioncmd":"cmake --version",
            "versionreg":"cmake version ([0-9.]*)",
            "sources":[
                {
                    "type":"tarball",
                    "file":"cmake-3.0.2.tar.gz",
                    "recipe":[
                        "./bootstrap --prefix=${VC3_PREFIX}",
                        "make",
                        "make install"
                    ]
                }
            ],
            "environment_variables":[
                {
                    "name":"PATH",
                    "value":"bin"
                }
            ]
        }
    ],

    "cvmfs":[
        {
            "version":"v2.2",
            "name":"cvmfs",
            "sources":[
                {
                    "type":"tarball",
                    "file":"cvmfs.tar.gz",
                    "recipe":[
                        "mkdir -p build",
                        "cd build",
                        "cmake -Wno-dev -DINSTALL_MOUNT_SCRIPTS=OFF -DBUILD_SERVER:BOOL=OFF -DBUILD_CVMFS:BOOL=OFF -DBUILD_LIBCVMFS:BOOL=ON -DINSTALL_BASH_COMPLETION:BOOL=OFF -DCMAKE_INSTALL_PREFIX:PATH=${VC3_PREFIX} ..",
                        "make libpacparser",
                        "cd cvmfs",
                        "make",
                        "make install"
                    ],
                    "dependencies":{
                        "uuid":[
                            "v1.0"
                        ],
                        "fuse":[
                            "v2.9"
                        ],
                        "cmake":[
                            "v3.0"
                        ]
                    }
                }
            ],
            "environment_variables":[
                {
                    "name":"LD_LIBRARY_PATH",
                    "value":"lib64"
                }
            ]
        }
    ],

    "uuid":[
        {
            "version":"v1.0.3",
            "name":"uuid",
            "sources":[
                {
                    "type":"tarball",
                    "file":"libuuid-1.0.3.tar.gz",
                    "recipe":[
                        "./configure --prefix=${VC3_PREFIX} --enable-static --disable-shared",
                        "make",
                        "make install"
                    ]
                }
            ],
            "environment_variables":[
                {
                    "name":"LD_LIBRARY_PATH",
                    "value":"lib"
                },
                {
                    "name":"C_INCLUDE_DIR",
                    "value":"include"
                },
                {
                    "name":"CPLUS_INCLUDE_PATH",
                    "value":"include"
                }
            ]
        }
    ],

    "pcre":[
        {
            "version":"v8.39",
            "name":"pcre",
            "sources":[
                {
                    "type":"tarball",
                    "file":"pcre-8.39.tar.gz",
                    "recipe":[
                        "./configure --prefix=${VC3_PREFIX} --enable-static --disable-shared",
                        "make",
                        "make install"
                    ]
                }
            ],
            "environment_variables":[
                {
                    "name":"PATH",
                    "value":"bin"
                },
                {
                    "name":"LD_LIBRARY_PATH",
                    "value":"lib"
                },
                {
                    "name":"C_INCLUDE_DIR",
                    "value":"include"
                },
                {
                    "name":"CPLUS_INCLUDE_PATH",
                    "value":"include"
                }
            ]
        }
    ],

    "fuse":[
        {
            "version":"v2.9.3",
            "name":"fuse",
            "sources":[
                {
                    "type":"tarball",
                    "file":"fuse-2.9.3.tar.gz",
                    "recipe":[
                        "./configure --prefix=${VC3_PREFIX}  --enable-lib --disable-util",
                        "make",
                        "make install"
                    ]
                }
            ],
            "environment_variables":[
                {
                    "name":"PATH",
                    "value":"bin"
                },
                {
                    "name":"LD_LIBRARY_PATH",
                    "value":"lib"
                },
                {
                    "name":"C_INCLUDE_DIR",
                    "value":"include"
                },
                {
                    "name":"CPLUS_INCLUDE_PATH",
                    "value":"include"
                }
            ]
        }
    ],

    "perl":[
        {
            "version":"v5.24.0",
            "name":"perl",
            "versioncmd":"perl -e 'print qq($^V)'",
            "versionreg":"(v[0-9.]*)",
            "sources":[
                {
                    "type":"tarball",
                    "file":"perl-5.24.0.tar.gz",
                    "recipe":[
                        "CFLAGS='-m64 -mtune=nocona' ./Configure -Dprefix=${VC3_PREFIX} -des -A ccflags=-fPIC make",
                        "make install"
                    ]
                }
            ],
            "environment_variables":[
                {
                    "name":"PATH",
                    "value":"bin"
                },
                {
                    "name":"PERL5LIB",
                    "value":"lib/perl5/site_perl/5.24.0"
                }
            ]
        }
    ],

    "cpanminus":[
        {
            "version":"v1.7",
            "name":"cpanminus",
            "sources":[
                {
                    "type":"generic",
                    "file":"cpanminus.distribution",
                    "recipe":[
                        "cat cpanminus.distribution | perl - App::cpanminus"
                    ]
                }
            ],
            "dependencies":{
                "perl-local-lib":[
                    "v2.0"
                ]
            }
        }
    ],

    "perl-local-lib":[
        {
            "version":"v2.000019",
            "name":"perl_local_lib",
            "sources":[
                {
                    "type":"tarball",
                    "file":"local-lib-2.000019.tar.gz",
                    "recipe":[
                        "perl Makefile.PL --bootstrap=${VC3_ROOT_PERL}",
                        "make install"
                    ]
                }
            ],
            "dependencies":{
                "perl":[
                    "v5.10"
                ]
            },
            "environment_variables": [
                {
                    "name":"VC3_PERL_MODULES", 
                    "value":  "${VC3_PERL_LOCAL_LIB_ROOT}/local_modules",
                    "clobber":1,
                    "absolute":1
                },
                {
                    "name":"PERL_MB_OPT", 
                    "value":"--install_base ${VC3_PERL_MODULES}",
                    "clobber":1,
                    "absolute":1
                },
                {
                    "name":"PERL_MM_OPT", 
                    "value":"INSTALL_BASE=${VC3_PERL_MODULES}",
                    "clobber":1,
                    "absolute":1 
                },
                {
                    "name":"PERL5LIB",
                    "value":"${VC3_PERL_MODULES}/lib/perl5",
                    "absolute":1
                },
                {
                    "name":"PATH",
                    "value":"${VC3_PERL_MODULES}/bin",
                    "absolute":1
                }
            ]
        }
    ],

    "python":[
        {
            "version":"v2.7.8",
            "name":"python",
            "versioncmd":"python --version",
            "versionreg":"Python ([0-9.]*).*",
            "sources":[
                {
                    "type":"tarball",
                    "file":"Python-2.7.8.tgz",
                    "recipe":[
                        "./configure --prefix=${VC3_PREFIX}",
                        "make",
                        "make install",
                        "ln -s ${VC3_PREFIX}/bin/pydoc{,2}"
                    ]
                }
            ],
            "environment_variables":[
                {
                    "name":"PATH",
                    "value":"bin"
                },
                {
                    "name":"PYTHONPATH",
                    "value":"lib/python2.7/site-packages"
                }
            ]
        }
    ],

    "zlib": [
        {
            "version":"v1.2.8",
            "name":"zlib",
            "sources":[
                {
                    "type":"tarball",
                    "file":"zlib-1.2.8.tar.gz",
                    "recipe":[
                        "./configure --prefix=${VC3_PREFIX} --static",
                        "make",
                        "make install"
                    ]
                }
            ],
            "environment_variables":[
                {
                    "name":"PATH",
                    "value":"bin"
                },
                {
                    "name":"LD_LIBRARY_PATH",
                    "value":"lib"
                },
                {
                    "name":"C_INCLUDE_DIR",
                    "value":"include"
                },
                {
                    "name":"CPLUS_INCLUDE_PATH",
                    "value":"include"
                }
            ]
        }
    ],

    "xrootd": [
        {
            "version":"v4.3.0",
            "name":"xrootd",
            "sources":[
                {
                    "type":"tarball",
                    "file":"xrootd-4.3.0.tar.gz",
                    "recipe":[
                        "mkdir -p build",
                        "cd build",
                        "cmake -DCMAKE_INSTALL_PREFIX:PATH=${VC3_PREFIX} -DCMAKE_INSTALL_LIBDIR=lib ..",
                        "make",
                        "make install",
                        "find src -name '*.o' | xargs ar rcs ${VC3_PREFIX}/lib/libxrootd.a"
                    ],
                    "dependencies":{
                        "cmake":[
                            "v3.0"
                        ]
                    }
                }
            ],
            "dependencies":{
                "perl":[
                    "v5.10"
                ],
                "fuse":[
                    "v2.9"
                ]
            },
            "environment_variables":[
                {
                    "name":"PATH",
                    "value":"bin"
                },
                {
                    "name":"LD_LIBRARY_PATH",
                    "value":"lib"
                },
                {
                    "name":"C_INCLUDE_DIR",
                    "value":"include"
                },
                {
                    "name":"CPLUS_INCLUDE_PATH",
                    "value":"include"
                }
            ]
        }
    ],

    "irods":[
        {
            "version":"v3.0",
            "name":"irods",
            "sources":[
                {
                    "type":"tarball",
                    "file":"irods3.0.tgz",
                    "recipe":[
                        "mv * ${VC3_PREFIX}",
                        "cd ${VC3_PREFIX}",
                        "./scripts/configure",
                        "make"
                    ],
                    "dependencies":{
                        "help2man":[
                            "v1.0.0"
                        ]
                    }
                }
            ],
            "environment_variables":[
                {
                    "name":"PATH",
                    "value":"clients/icommands/bin"
                },
                {
                    "name":"LD_LIBRARY_PATH",
                    "value":"lib/core/obj"
                },
                {
                    "name":"C_INCLUDE_DIR",
                    "value":"lib/api/include"
                },
                {
                    "name":"CPLUS_INCLUDE_PATH",
                    "value":"lib/api/include"
                }
            ]
        }
    ],

    "help2man":[
        {
            "name":"help2man",
            "version":"v1.43.3",
            "sources":[
                {
                    "type":"tarball",
                    "file":"help2man-1.43.3.tar.gz",
                    "recipe":[
                        "./configure --prefix=${VC3_PREFIX}",
                        "make",
                        "make install"
                    ]
                }
            ],
            "environment_variables":[
                {
                    "name":"PATH",
                    "value":"bin"
                }
            ]
        }
    ]
}

